<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Food - H·ªá Th·ªëng G·ª£i √ù M√≥n ƒÇn Th√¥ng Minh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'viet-gold': '#D4AF37',
                        'viet-red': '#DA020E',
                        'viet-green': '#228B22',
                        'bamboo': '#8FBC8F'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        .nav-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .nav-item:hover {
            background: rgba(212, 175, 55, 0.1);
        }
        
        .nav-item.active {
            background: rgba(212, 175, 55, 0.2);
            border-bottom: 3px solid #D4AF37;
        }
        
        .mood-selector {
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 12px;
            border-radius: 50%;
            border: 3px solid transparent;
        }
        
        .mood-selector:hover {
            transform: scale(1.15);
            background: rgba(212, 175, 55, 0.15);
            border-color: rgba(212, 175, 55, 0.3);
        }
        
        .mood-selector.active {
            transform: scale(1.2);
            background: rgba(212, 175, 55, 0.25);
            border-color: #D4AF37;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <div class="text-3xl">üçú</div>
                    <div>
                        <span class="text-xl font-bold text-viet-red">Smart Food</span>
                        <div class="text-xs text-gray-500">AI Food Recommendation System</div>
                    </div>
                </div>
                
                <!-- Navigation Menu -->
                <div class="hidden md:flex items-center space-x-1" id="mainNav">
                    <div class="nav-item px-4 py-2 rounded-lg font-medium text-gray-700 active" data-page="home">üè† Trang ch·ªß</div>
                    <div class="nav-item px-4 py-2 rounded-lg font-medium text-gray-700" data-page="recommendations">üéØ G·ª£i √Ω m√≥n ƒÉn</div>
                    <div class="nav-item px-4 py-2 rounded-lg font-medium text-gray-700" data-page="meal-plan">üìÖ K·∫ø ho·∫°ch ƒÉn u·ªëng</div>
                    <div class="nav-item px-4 py-2 rounded-lg font-medium text-gray-700" data-page="recipes">üìñ C√¥ng th·ª©c</div>
                    <div class="nav-item px-4 py-2 rounded-lg font-medium text-gray-700" data-page="health">üí™ S·ª©c kh·ªèe</div>
                    <div class="nav-item px-4 py-2 rounded-lg font-medium text-gray-700" data-page="community">üë• C·ªông ƒë·ªìng</div>
                </div>
                
                <!-- User Menu -->
                <div class="flex items-center space-x-4">
                    <div id="userMenu" class="hidden items-center space-x-3">
                        <div class="text-sm">
                            <div class="font-semibold" id="userName">Ch√†o b·∫°n!</div>
                            <div class="text-gray-500 text-xs" id="userLevel">Level 1</div>
                        </div>
                        <img id="userAvatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23D4AF37'/%3E%3Ctext x='20' y='26' text-anchor='middle' fill='white' font-size='16'%3Eüë§%3C/text%3E%3C/svg%3E" class="w-10 h-10 rounded-full cursor-pointer">
                        <button id="logoutBtn" class="text-gray-500 hover:text-gray-700">üö™</button>
                    </div>
                    <div id="loginSection" class="flex items-center space-x-2">
                        <button id="loginBtn" class="bg-viet-red text-white px-4 py-2 rounded-lg font-medium hover:bg-red-600 transition-all">
                            ƒêƒÉng nh·∫≠p
                        </button>
                        <button id="registerBtn" class="border border-viet-red text-viet-red px-4 py-2 rounded-lg font-medium hover:bg-viet-red hover:text-white transition-all">
                            ƒêƒÉng k√Ω
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Home Page -->
        <div id="homePage" class="page active">
            <!-- Hero Section -->
            <section class="hero-gradient text-white py-16 relative overflow-hidden rounded-2xl my-8">
                <div class="absolute inset-0 bg-black/10"></div>
                <div class="text-center relative z-10 px-8">
                    <div class="mb-8">
                        <div class="text-5xl mb-4">üéØ</div>
                        <h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight">
                            H·ªá Th·ªëng G·ª£i √ù M√≥n ƒÇn Th√¥ng Minh
                        </h1>
                        <p class="text-lg md:text-xl mb-6 max-w-3xl mx-auto leading-relaxed">
                            S·ª≠ d·ª•ng AI ƒë·ªÉ ph√¢n t√≠ch <span class="text-yellow-300 font-semibold">6 y·∫øu t·ªë quan tr·ªçng</span><br>
                            v√† ƒë∆∞a ra g·ª£i √Ω m√≥n ƒÉn ho√†n h·∫£o d√†nh ri√™ng cho b·∫°n
                        </p>
                        <div class="flex flex-wrap justify-center gap-3 text-sm mb-8">
                            <span class="bg-white/20 px-3 py-1 rounded-full">üèãÔ∏è S·ª©c kh·ªèe</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full">‚è∞ Th·ªùi gian</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full">üìç ƒê·ªãa ƒëi·ªÉm</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full">üòã S·ªü th√≠ch</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full">üå¶Ô∏è T√¢m tr·∫°ng</span>
                            <span class="bg-white/20 px-3 py-1 rounded-full">üéØ M·ª•c ti√™u</span>
                        </div>
                        <button class="nav-item bg-white text-viet-red px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all transform hover:scale-105" data-page="recommendations">
                            üöÄ B·∫Øt ƒë·∫ßu ngay
                        </button>
                    </div>
                </div>
            </section>

            <!-- Features Grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 py-16">
                <div class="bg-white rounded-2xl p-8 shadow-lg card-hover text-center">
                    <div class="text-5xl mb-4">ü§ñ</div>
                    <h3 class="text-xl font-bold mb-4">AI Th√¥ng Minh</h3>
                    <p class="text-gray-600">Ph√¢n t√≠ch 6 y·∫øu t·ªë ƒë·ªÉ ƒë∆∞a ra g·ª£i √Ω m√≥n ƒÉn ph√π h·ª£p nh·∫•t v·ªõi b·∫°n</p>
                </div>
                
                <div class="bg-white rounded-2xl p-8 shadow-lg card-hover text-center">
                    <div class="text-5xl mb-4">üìä</div>
                    <h3 class="text-xl font-bold mb-4">Theo D√µi S·ª©c Kh·ªèe</h3>
                    <p class="text-gray-600">Th·ªëng k√™ calories, dinh d∆∞·ª°ng v√† ti·∫øn ƒë·ªô s·ª©c kh·ªèe h√†ng ng√†y</p>
                </div>
                
                <div class="bg-white rounded-2xl p-8 shadow-lg card-hover text-center">
                    <div class="text-5xl mb-4">üìÖ</div>
                    <h3 class="text-xl font-bold mb-4">K·∫ø Ho·∫°ch ƒÇn U·ªëng</h3>
                    <p class="text-gray-600">L·∫≠p k·∫ø ho·∫°ch b·ªØa ƒÉn th√¥ng minh cho c·∫£ tu·∫ßn</p>
                </div>
                
                <div class="bg-white rounded-2xl p-8 shadow-lg card-hover text-center">
                    <div class="text-5xl mb-4">üìñ</div>
                    <h3 class="text-xl font-bold mb-4">Kho C√¥ng Th·ª©c</h3>
                    <p class="text-gray-600">H√†ng ngh√¨n c√¥ng th·ª©c n·∫•u ƒÉn v·ªõi h∆∞·ªõng d·∫´n chi ti·∫øt</p>
                </div>
                
                <div class="bg-white rounded-2xl p-8 shadow-lg card-hover text-center">
                    <div class="text-5xl mb-4">üë•</div>
                    <h3 class="text-xl font-bold mb-4">C·ªông ƒê·ªìng</h3>
                    <p class="text-gray-600">Chia s·∫ª kinh nghi·ªám v√† h·ªçc h·ªèi t·ª´ c·ªông ƒë·ªìng y√™u ·∫©m th·ª±c</p>
                </div>
                
                <div class="bg-white rounded-2xl p-8 shadow-lg card-hover text-center">
                    <div class="text-5xl mb-4">üéØ</div>
                    <h3 class="text-xl font-bold mb-4">C√° Nh√¢n H√≥a</h3>
                    <p class="text-gray-600">ƒêi·ªÅu ch·ªânh tr·ªçng s·ªë theo s·ªü th√≠ch c√° nh√¢n</p>
                </div>
            </div>
        </div>

        <!-- Recommendations Page -->
        <div id="recommendationsPage" class="page py-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold mb-4">üéØ G·ª£i √ù M√≥n ƒÇn Th√¥ng Minh</h1>
                <p class="text-gray-600 text-lg">AI ph√¢n t√≠ch 6 y·∫øu t·ªë ƒë·ªÉ t√¨m m√≥n ƒÉn ho√†n h·∫£o cho b·∫°n</p>
            </div>
            
            <!-- Mood Selection -->
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                <h2 class="text-2xl font-bold text-center mb-6">üåü T√¢m tr·∫°ng c·ªßa b·∫°n h√¥m nay?</h2>
                <div class="grid grid-cols-3 md:grid-cols-6 gap-4 justify-items-center" id="moodSelector">
                    <div class="mood-selector" data-mood="happy" title="Vui v·∫ª">üòä</div>
                    <div class="mood-selector" data-mood="sad" title="Bu·ªìn">üò¢</div>
                    <div class="mood-selector" data-mood="stressed" title="CƒÉng th·∫≥ng">üò∞</div>
                    <div class="mood-selector" data-mood="excited" title="H·ª©ng th√∫">ü§©</div>
                    <div class="mood-selector" data-mood="tired" title="M·ªát m·ªèi">üò¥</div>
                    <div class="mood-selector" data-mood="romantic" title="L√£ng m·∫°n">üòç</div>
                </div>
                <div class="text-center mt-4">
                    <span id="selectedMoodText" class="text-lg font-semibold text-viet-red">Ch·ªçn t√¢m tr·∫°ng ƒë·ªÉ b·∫Øt ƒë·∫ßu</span>
                </div>
            </div>

            <!-- Factor Analysis -->
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                <h2 class="text-2xl font-bold text-center mb-6">‚öñÔ∏è ƒêi·ªÅu ch·ªânh ƒë·ªô ∆∞u ti√™n</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="factor-card">
                        <div class="flex items-center justify-between mb-3">
                            <span class="font-semibold flex items-center">
                                <span class="text-2xl mr-2">üèãÔ∏è</span>
                                S·ª©c kh·ªèe
                            </span>
                            <span id="healthValue" class="text-viet-red font-bold">70%</span>
                        </div>
                        <input type="range" id="healthSlider" min="0" max="100" value="70" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    </div>
                    
                    <div class="factor-card">
                        <div class="flex items-center justify-between mb-3">
                            <span class="font-semibold flex items-center">
                                <span class="text-2xl mr-2">‚è∞</span>
                                Th·ªùi gian
                            </span>
                            <span id="timeValue" class="text-viet-red font-bold">60%</span>
                        </div>
                        <input type="range" id="timeSlider" min="0" max="100" value="60" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    </div>
                    
                    <div class="factor-card">
                        <div class="flex items-center justify-between mb-3">
                            <span class="font-semibold flex items-center">
                                <span class="text-2xl mr-2">üìç</span>
                                ƒê·ªãa ƒëi·ªÉm
                            </span>
                            <span id="locationValue" class="text-viet-red font-bold">50%</span>
                        </div>
                        <input type="range" id="locationSlider" min="0" max="100" value="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    </div>
                    
                    <div class="factor-card">
                        <div class="flex items-center justify-between mb-3">
                            <span class="font-semibold flex items-center">
                                <span class="text-2xl mr-2">üòã</span>
                                S·ªü th√≠ch
                            </span>
                            <span id="preferenceValue" class="text-viet-red font-bold">80%</span>
                        </div>
                        <input type="range" id="preferenceSlider" min="0" max="100" value="80" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    </div>
                    
                    <div class="factor-card">
                        <div class="flex items-center justify-between mb-3">
                            <span class="font-semibold flex items-center">
                                <span class="text-2xl mr-2">üå¶Ô∏è</span>
                                T√¢m tr·∫°ng
                            </span>
                            <span id="moodValue" class="text-viet-red font-bold">65%</span>
                        </div>
                        <input type="range" id="moodSlider" min="0" max="100" value="65" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    </div>
                    
                    <div class="factor-card">
                        <div class="flex items-center justify-between mb-3">
                            <span class="font-semibold flex items-center">
                                <span class="text-2xl mr-2">üéØ</span>
                                M·ª•c ti√™u
                            </span>
                            <span id="goalValue" class="text-viet-red font-bold">55%</span>
                        </div>
                        <input type="range" id="goalSlider" min="0" max="100" value="55" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    </div>
                </div>
                
                <div class="text-center mt-6">
                    <button id="generateRecommendations" class="bg-viet-red text-white px-8 py-3 rounded-xl font-bold hover:bg-red-600 transition-all">
                        ü§ñ T·∫°o g·ª£i √Ω AI
                    </button>
                </div>
            </div>

            <!-- AI Analysis Results -->
            <div id="analysisResults" class="bg-white rounded-2xl shadow-lg p-8 mb-8" style="display: none;">
                <h2 class="text-2xl font-bold text-center mb-6">üß† Ph√¢n T√≠ch AI</h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-4">üìä Tr·ªçng s·ªë y·∫øu t·ªë</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span>üèãÔ∏è S·ª©c kh·ªèe</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-gray-200 rounded-full h-2">
                                        <div id="healthBar" class="bg-viet-red h-2 rounded-full transition-all" style="width: 70%"></div>
                                    </div>
                                    <span id="healthPercent" class="text-sm font-semibold">70%</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>‚è∞ Th·ªùi gian</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-gray-200 rounded-full h-2">
                                        <div id="timeBar" class="bg-viet-red h-2 rounded-full transition-all" style="width: 60%"></div>
                                    </div>
                                    <span id="timePercent" class="text-sm font-semibold">60%</span>
                                </div>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>üòã S·ªü th√≠ch</span>
                                <div class="flex items-center space-x-2">
                                    <div class="w-24 bg-gray-200 rounded-full h-2">
                                        <div id="preferenceBar" class="bg-viet-red h-2 rounded-full transition-all" style="width: 80%"></div>
                                    </div>
                                    <span id="preferencePercent" class="text-sm font-semibold">80%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold mb-4">üéØ Khuy·∫øn ngh·ªã</h3>
                        <div class="space-y-2 text-sm">
                            <div id="recommendation1" class="p-3 bg-green-50 rounded-lg">‚úÖ ∆Øu ti√™n m√≥n ƒÉn healthy</div>
                            <div id="recommendation2" class="p-3 bg-blue-50 rounded-lg">‚è±Ô∏è Ch·ªçn m√≥n n·∫•u nhanh</div>
                            <div id="recommendation3" class="p-3 bg-yellow-50 rounded-lg">üòã Ph√π h·ª£p s·ªü th√≠ch c√° nh√¢n</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Food Recommendations -->
            <div id="foodRecommendations" class="bg-white rounded-2xl shadow-lg p-8" style="display: none;">
                <h2 class="text-2xl font-bold text-center mb-6">üçΩÔ∏è G·ª£i √ù M√≥n ƒÇn</h2>
                <div class="grid md:grid-cols-3 gap-8" id="recommendationCards">
                    <!-- Cards will be generated by JavaScript -->
                </div>
                
                <div class="mt-8 text-center">
                    <button id="regenerateBtn" class="bg-viet-red text-white px-8 py-3 rounded-xl font-bold hover:bg-red-600 transition-all">
                        üîÑ T·∫°o g·ª£i √Ω m·ªõi
                    </button>
                </div>
            </div>
        </div>

        <!-- Meal Plan Page -->
        <div id="mealPlanPage" class="page py-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold mb-4">üìÖ K·∫ø Ho·∫°ch ƒÇn U·ªëng</h1>
                <p class="text-gray-600 text-lg">L·∫≠p k·∫ø ho·∫°ch b·ªØa ƒÉn th√¥ng minh cho c·∫£ tu·∫ßn</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <div class="grid md:grid-cols-7 gap-4">
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Th·ª© 2</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">üç≥</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">Tr·ª©ng chi√™n</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">üçú</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">Ph·ªü b√≤</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">üç≤</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">C∆°m t·∫•m</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Th·ª© 3</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•ê</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">B√°nh m√¨</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•ó</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">Salad</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">üçù</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">M√¨ √ù</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Repeat for other days -->
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Th·ª© 4</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•£</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">Ch√°o</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">üçõ</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">C∆°m g√†</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">üç≤</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">L·∫©u</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Th·ª© 5</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">üßá</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">Waffle</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">üçú</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">B√∫n b√≤</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•ò</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">C√† ri</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Th·ª© 6</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•û</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">Pancake</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">üç±</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">Bento</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">üçñ</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">BBQ</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Th·ª© 7</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">üç≥</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">Omelet</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">üçï</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">Pizza</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">üç£</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">Sushi</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <h3 class="font-bold mb-4">Ch·ªß nh·∫≠t</h3>
                        <div class="space-y-3">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•ê</div>
                                <div class="text-xs font-semibold">S√°ng</div>
                                <div class="text-xs">Croissant</div>
                            </div>
                            <div class="bg-green-100 p-3 rounded-lg">
                                <div class="text-2xl">üçú</div>
                                <div class="text-xs font-semibold">Tr∆∞a</div>
                                <div class="text-xs">Ph·ªü g√†</div>
                            </div>
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <div class="text-2xl">ü•©</div>
                                <div class="text-xs font-semibold">T·ªëi</div>
                                <div class="text-xs">Steak</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <button class="bg-viet-red text-white px-8 py-3 rounded-xl font-bold hover:bg-red-600 transition-all">
                        üéØ T·∫°o k·∫ø ho·∫°ch m·ªõi
                    </button>
                </div>
            </div>
        </div>

        <!-- Recipes Page -->
        <div id="recipesPage" class="page py-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold mb-4">üìñ Kho C√¥ng Th·ª©c</h1>
                <p class="text-gray-600 text-lg">Kh√°m ph√° h√†ng ngh√¨n c√¥ng th·ª©c n·∫•u ƒÉn chi ti·∫øt</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                    <div class="p-6">
                        <div class="text-6xl text-center mb-4">üçú</div>
                        <h3 class="text-xl font-bold mb-2">Ph·ªü B√≤ H√† N·ªôi</h3>
                        <p class="text-gray-600 text-sm mb-4">C√¥ng th·ª©c ph·ªü b√≤ truy·ªÅn th·ªëng v·ªõi n∆∞·ªõc d√πng trong v·∫Øt</p>
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <span>‚è±Ô∏è 45 ph√∫t</span>
                            <span>üë• 4 ng∆∞·ªùi</span>
                            <span>‚≠ê 4.8</span>
                        </div>
                        <button class="w-full bg-viet-red text-white py-2 rounded-xl font-semibold hover:bg-red-600 transition-all">
                            Xem chi ti·∫øt
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                    <div class="p-6">
                        <div class="text-6xl text-center mb-4">ü•ó</div>
                        <h3 class="text-xl font-bold mb-2">Salad Quinoa Healthy</h3>
                        <p class="text-gray-600 text-sm mb-4">Salad quinoa b·ªï d∆∞·ª°ng v·ªõi rau c·ªß t∆∞∆°i v√† s·ªët chanh d√¢y</p>
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <span>‚è±Ô∏è 20 ph√∫t</span>
                            <span>üë• 2 ng∆∞·ªùi</span>
                            <span>‚≠ê 4.6</span>
                        </div>
                        <button class="w-full bg-viet-red text-white py-2 rounded-xl font-semibold hover:bg-red-600 transition-all">
                            Xem chi ti·∫øt
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                    <div class="p-6">
                        <div class="text-6xl text-center mb-4">üç≤</div>
                        <h3 class="text-xl font-bold mb-2">B√∫n B√≤ Hu·∫ø</h3>
                        <p class="text-gray-600 text-sm mb-4">B√∫n b√≤ cay n·ªìng ƒë·∫∑c tr∆∞ng mi·ªÅn Trung v·ªõi ch·∫£ cua</p>
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <span>‚è±Ô∏è 60 ph√∫t</span>
                            <span>üë• 4 ng∆∞·ªùi</span>
                            <span>‚≠ê 4.7</span>
                        </div>
                        <button class="w-full bg-viet-red text-white py-2 rounded-xl font-semibold hover:bg-red-600 transition-all">
                            Xem chi ti·∫øt
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                    <div class="p-6">
                        <div class="text-6xl text-center mb-4">üçõ</div>
                        <h3 class="text-xl font-bold mb-2">C∆°m G√† H·∫£i Nam</h3>
                        <p class="text-gray-600 text-sm mb-4">C∆°m g√† th∆°m ngon v·ªõi n∆∞·ªõc ch·∫•m ƒë·∫∑c bi·ªát</p>
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <span>‚è±Ô∏è 50 ph√∫t</span>
                            <span>üë• 3 ng∆∞·ªùi</span>
                            <span>‚≠ê 4.5</span>
                        </div>
                        <button class="w-full bg-viet-red text-white py-2 rounded-xl font-semibold hover:bg-red-600 transition-all">
                            Xem chi ti·∫øt
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                    <div class="p-6">
                        <div class="text-6xl text-center mb-4">ü•ò</div>
                        <h3 class="text-xl font-bold mb-2">C√† Ri G√†</h3>
                        <p class="text-gray-600 text-sm mb-4">C√† ri g√† ƒë·∫≠m ƒë√† v·ªõi n∆∞·ªõc c·ªët d·ª´a v√† gia v·ªã</p>
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <span>‚è±Ô∏è 40 ph√∫t</span>
                            <span>üë• 4 ng∆∞·ªùi</span>
                            <span>‚≠ê 4.4</span>
                        </div>
                        <button class="w-full bg-viet-red text-white py-2 rounded-xl font-semibold hover:bg-red-600 transition-all">
                            Xem chi ti·∫øt
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
                    <div class="p-6">
                        <div class="text-6xl text-center mb-4">üçù</div>
                        <h3 class="text-xl font-bold mb-2">M√¨ √ù Carbonara</h3>
                        <p class="text-gray-600 text-sm mb-4">M√¨ √ù Carbonara ki·ªÉu √ù v·ªõi bacon v√† ph√¥ mai</p>
                        <div class="flex items-center justify-between text-sm text-gray-500 mb-4">
                            <span>‚è±Ô∏è 25 ph√∫t</span>
                            <span>üë• 2 ng∆∞·ªùi</span>
                            <span>‚≠ê 4.6</span>
                        </div>
                        <button class="w-full bg-viet-red text-white py-2 rounded-xl font-semibold hover:bg-red-600 transition-all">
                            Xem chi ti·∫øt
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Health Page -->
        <div id="healthPage" class="page py-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold mb-4">üí™ Theo D√µi S·ª©c Kh·ªèe</h1>
                <p class="text-gray-600 text-lg">Th·ªëng k√™ chi ti·∫øt v·ªÅ dinh d∆∞·ª°ng v√† ti·∫øn ƒë·ªô s·ª©c kh·ªèe</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">üî•</div>
                    <div class="text-2xl font-bold">1,650</div>
                    <div class="text-sm opacity-90">/ 2,000 calories</div>
                    <div class="w-full bg-white/20 rounded-full h-2 mt-2">
                        <div class="bg-white h-2 rounded-full" style="width: 82.5%"></div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">ü•©</div>
                    <div class="text-2xl font-bold">95g</div>
                    <div class="text-sm opacity-90">/ 120g protein</div>
                    <div class="w-full bg-white/20 rounded-full h-2 mt-2">
                        <div class="bg-white h-2 rounded-full" style="width: 79%"></div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-green-500 to-teal-600 text-white rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">üçû</div>
                    <div class="text-2xl font-bold">180g</div>
                    <div class="text-sm opacity-90">/ 250g carbs</div>
                    <div class="w-full bg-white/20 rounded-full h-2 mt-2">
                        <div class="bg-white h-2 rounded-full" style="width: 72%"></div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-2xl p-6 text-center">
                    <div class="text-3xl mb-2">ü•ë</div>
                    <div class="text-2xl font-bold">45g</div>
                    <div class="text-sm opacity-90">/ 65g fat</div>
                    <div class="w-full bg-white/20 rounded-full h-2 mt-2">
                        <div class="bg-white h-2 rounded-full" style="width: 69%"></div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h3 class="text-2xl font-semibold mb-6">üçΩÔ∏è L·ªãch s·ª≠ b·ªØa ƒÉn h√¥m nay</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-4">
                            <div class="text-3xl">üçú</div>
                            <div>
                                <div class="font-semibold">Ph·ªü B√≤</div>
                                <div class="text-sm text-gray-500">07:30 ‚Ä¢ S√°ng</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-viet-red">350</div>
                            <div class="text-xs text-gray-500">calories</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-4">
                            <div class="text-3xl">ü•ó</div>
                            <div>
                                <div class="font-semibold">Salad Quinoa</div>
                                <div class="text-sm text-gray-500">12:15 ‚Ä¢ Tr∆∞a</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-viet-red">280</div>
                            <div class="text-xs text-gray-500">calories</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                        <div class="flex items-center space-x-4">
                            <div class="text-3xl">ü•§</div>
                            <div>
                                <div class="font-semibold">Smoothie</div>
                                <div class="text-sm text-gray-500">15:30 ‚Ä¢ Snack</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-viet-red">150</div>
                            <div class="text-xs text-gray-500">calories</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Community Page -->
        <div id="communityPage" class="page py-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold mb-4">üë• C·ªông ƒê·ªìng ·∫®m Th·ª±c</h1>
                <p class="text-gray-600 text-lg">Chia s·∫ª kinh nghi·ªám v√† k·∫øt n·ªëi v·ªõi nh·ªØng ng∆∞·ªùi y√™u ·∫©m th·ª±c</p>
            </div>
            
            <div class="space-y-6">
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex items-start space-x-4">
                        <div class="text-3xl">üë®‚Äçüç≥</div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="font-semibold">Chef Minh</span>
                                <span class="text-sm text-gray-500">2 gi·ªù tr∆∞·ªõc</span>
                            </div>
                            <h4 class="font-bold text-lg mb-2">B√≠ quy·∫øt l√†m ph·ªü b√≤ n∆∞·ªõc d√πng trong v·∫Øt</h4>
                            <p class="text-gray-600 mb-4">Sau 10 nƒÉm l√†m ngh·ªÅ, t√¥i mu·ªën chia s·∫ª b√≠ quy·∫øt ƒë·ªÉ c√≥ n∆∞·ªõc d√πng ph·ªü trong v·∫Øt v√† th∆°m ngon. ƒêi·ªÅu quan tr·ªçng nh·∫•t l√†...</p>
                            <div class="text-6xl text-center my-4">üçú</div>
                            <div class="flex items-center space-x-6 text-sm text-gray-500">
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üëç</span>
                                    <span>245</span>
                                </button>
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üí¨</span>
                                    <span>32</span>
                                </button>
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üì§</span>
                                    <span>18</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex items-start space-x-4">
                        <div class="text-3xl">üë©‚Äçüç≥</div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="font-semibold">Healthy Mom</span>
                                <span class="text-sm text-gray-500">4 gi·ªù tr∆∞·ªõc</span>
                            </div>
                            <h4 class="font-bold text-lg mb-2">B·ªØa s√°ng healthy cho c·∫£ gia ƒë√¨nh</h4>
                            <p class="text-gray-600 mb-4">Smoothie bowl v·ªõi granola t·ª± l√†m v√† tr√°i c√¢y t∆∞∆°i. C√°c b√© r·∫•t th√≠ch v√† ƒë·∫ßy ƒë·ªß dinh d∆∞·ª°ng cho ng√†y m·ªõi!</p>
                            <div class="text-6xl text-center my-4">üçì</div>
                            <div class="flex items-center space-x-6 text-sm text-gray-500">
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üëç</span>
                                    <span>189</span>
                                </button>
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üí¨</span>
                                    <span>24</span>
                                </button>
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üì§</span>
                                    <span>12</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex items-start space-x-4">
                        <div class="text-3xl">üçΩÔ∏è</div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                <span class="font-semibold">Foodie H√† N·ªôi</span>
                                <span class="text-sm text-gray-500">6 gi·ªù tr∆∞·ªõc</span>
                            </div>
                            <h4 class="font-bold text-lg mb-2">L√†m sao ƒë·ªÉ b√°nh m√¨ gi√≤n l√¢u h∆°n?</h4>
                            <p class="text-gray-600 mb-4">M√¨nh hay l√†m b√°nh m√¨ ·ªü nh√† nh∆∞ng kh√¥ng gi√≤n ƒë∆∞·ª£c l√¢u nh∆∞ ngo√†i h√†ng. C√≥ b·∫°n n√†o bi·∫øt b√≠ quy·∫øt kh√¥ng ·∫°?</p>
                            <div class="text-6xl text-center my-4">ü•ñ</div>
                            <div class="flex items-center space-x-6 text-sm text-gray-500">
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üëç</span>
                                    <span>67</span>
                                </button>
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üí¨</span>
                                    <span>45</span>
                                </button>
                                <button class="flex items-center space-x-1 hover:text-viet-red transition-all">
                                    <span>üì§</span>
                                    <span>8</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification bg-white rounded-xl shadow-2xl p-4 max-w-sm">
        <div class="flex items-center space-x-3">
            <div class="text-2xl" id="notificationIcon">‚úÖ</div>
            <div>
                <div class="font-semibold" id="notificationTitle">Th√†nh c√¥ng!</div>
                <div class="text-sm text-gray-600" id="notificationMessage">Thao t√°c ƒë√£ ƒë∆∞·ª£c th·ª±c hi·ªán</div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let currentPage = 'home';
        let selectedMood = null;
        let factorWeights = {
            health: 70,
            time: 60,
            location: 50,
            preference: 80,
            mood: 65,
            goal: 55
        };

        // Food database
        const foodDatabase = [
            { name: "Ph·ªü B√≤ H√† N·ªôi", emoji: "üçú", description: "M√≥n ph·ªü truy·ªÅn th·ªëng v·ªõi n∆∞·ªõc d√πng trong v·∫Øt", health: 75, time: 30, preference: 90, mood: ["happy", "tired"], calories: 350, cookTime: "45 ph√∫t" },
            { name: "Salad Quinoa", emoji: "ü•ó", description: "Salad healthy v·ªõi quinoa v√† rau c·ªß t∆∞∆°i", health: 95, time: 85, preference: 70, mood: ["stressed", "excited"], calories: 280, cookTime: "20 ph√∫t" },
            { name: "B√∫n B√≤ Hu·∫ø", emoji: "üç≤", description: "B√∫n b√≤ cay n·ªìng ƒë·∫∑c tr∆∞ng mi·ªÅn Trung", health: 70, time: 40, preference: 85, mood: ["happy", "excited"], calories: 420, cookTime: "60 ph√∫t" },
            { name: "C∆°m G√† H·∫£i Nam", emoji: "üçõ", description: "C∆°m g√† th∆°m ngon v·ªõi n∆∞·ªõc ch·∫•m ƒë·∫∑c bi·ªát", health: 80, time: 60, preference: 88, mood: ["romantic", "happy"], calories: 380, cookTime: "50 ph√∫t" },
            { name: "Smoothie Bowl", emoji: "üçì", description: "Smoothie bowl v·ªõi granola v√† tr√°i c√¢y t∆∞∆°i", health: 90, time: 90, preference: 75, mood: ["excited", "happy"], calories: 250, cookTime: "15 ph√∫t" },
            { name: "B√°nh M√¨ Th·ªãt N∆∞·ªõng", emoji: "ü•ñ", description: "B√°nh m√¨ gi√≤n v·ªõi th·ªãt n∆∞·ªõng th∆°m l·ª´ng", health: 65, time: 80, preference: 92, mood: ["happy", "tired"], calories: 320, cookTime: "25 ph√∫t" },
            { name: "Ch√°o T√¥m", emoji: "ü•£", description: "Ch√°o t√¥m m·ªÅm m·ªãn, b·ªï d∆∞·ª°ng", health: 85, time: 70, preference: 80, mood: ["sad", "tired"], calories: 200, cookTime: "35 ph√∫t" },
            { name: "L·∫©u Th√°i", emoji: "üç≤", description: "L·∫©u Th√°i chua cay v·ªõi h·∫£i s·∫£n t∆∞∆°i ngon", health: 75, time: 50, preference: 85, mood: ["excited", "romantic"], calories: 300, cookTime: "40 ph√∫t" }
        ];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeNavigation();
            initializeAuth();
            initializeRecommendationSystem();
        });

        // Navigation system
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetPage = this.dataset.page;
                    if (targetPage) {
                        navigateToPage(targetPage);
                    }
                });
            });
        }

        function navigateToPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show target page
            const targetPage = document.getElementById(pageName + 'Page');
            if (targetPage) {
                targetPage.classList.add('active');
                currentPage = pageName;
                
                // Update navigation active state
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                const activeNavItem = document.querySelector(`[data-page="${pageName}"]`);
                if (activeNavItem) {
                    activeNavItem.classList.add('active');
                }
            }
        }

        // Authentication system
        function initializeAuth() {
            const loginBtn = document.getElementById('loginBtn');
            const registerBtn = document.getElementById('registerBtn');
            const logoutBtn = document.getElementById('logoutBtn');

            if (loginBtn) {
                loginBtn.addEventListener('click', () => {
                    showNotification('üîê', 'ƒêƒÉng nh·∫≠p', 'T√≠nh nƒÉng ƒëƒÉng nh·∫≠p s·∫Ω s·ªõm ƒë∆∞·ª£c ra m·∫Øt!');
                });
            }

            if (registerBtn) {
                registerBtn.addEventListener('click', () => {
                    showNotification('üìù', 'ƒêƒÉng k√Ω', 'T√≠nh nƒÉng ƒëƒÉng k√Ω s·∫Ω s·ªõm ƒë∆∞·ª£c ra m·∫Øt!');
                });
            }

            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    showNotification('üëã', 'ƒêƒÉng xu·∫•t', 'H·∫πn g·∫∑p l·∫°i b·∫°n!');
                });
            }
        }

        // Recommendation system
        function initializeRecommendationSystem() {
            // Mood selector
            const moodSelectors = document.querySelectorAll('.mood-selector');
            moodSelectors.forEach(selector => {
                selector.addEventListener('click', function() {
                    // Remove active class from all selectors
                    moodSelectors.forEach(s => s.classList.remove('active'));
                    // Add active class to clicked selector
                    this.classList.add('active');
                    selectedMood = this.dataset.mood;
                    
                    // Update mood text
                    const moodText = document.getElementById('selectedMoodText');
                    const moodNames = {
                        'happy': 'Vui v·∫ª üòä',
                        'sad': 'Bu·ªìn üò¢',
                        'stressed': 'CƒÉng th·∫≥ng üò∞',
                        'excited': 'H·ª©ng th√∫ ü§©',
                        'tired': 'M·ªát m·ªèi üò¥',
                        'romantic': 'L√£ng m·∫°n üòç'
                    };
                    if (moodText) {
                        moodText.textContent = `T√¢m tr·∫°ng: ${moodNames[selectedMood]}`;
                    }
                });
            });

            // Factor sliders
            const sliders = ['health', 'time', 'location', 'preference', 'mood', 'goal'];
            sliders.forEach(factor => {
                const slider = document.getElementById(factor + 'Slider');
                const valueDisplay = document.getElementById(factor + 'Value');
                
                if (slider && valueDisplay) {
                    slider.addEventListener('input', function() {
                        const value = this.value;
                        factorWeights[factor] = parseInt(value);
                        valueDisplay.textContent = value + '%';
                    });
                }
            });

            // Generate recommendations button
            const generateBtn = document.getElementById('generateRecommendations');
            if (generateBtn) {
                generateBtn.addEventListener('click', generateRecommendations);
            }

            // Regenerate button
            const regenerateBtn = document.getElementById('regenerateBtn');
            if (regenerateBtn) {
                regenerateBtn.addEventListener('click', generateRecommendations);
            }
        }

        function generateRecommendations() {
            // Show analysis results
            const analysisResults = document.getElementById('analysisResults');
            const foodRecommendations = document.getElementById('foodRecommendations');
            
            if (analysisResults) {
                analysisResults.style.display = 'block';
                updateAnalysisDisplay();
            }
            
            // Generate food recommendations after a short delay
            setTimeout(() => {
                if (foodRecommendations) {
                    foodRecommendations.style.display = 'block';
                    generateFoodCards();
                }
                
                // Scroll to results
                analysisResults.scrollIntoView({ behavior: 'smooth' });
            }, 1000);
            
            showNotification('ü§ñ', 'AI ƒëang ph√¢n t√≠ch', 'ƒêang t·∫°o g·ª£i √Ω m√≥n ƒÉn ph√π h·ª£p...');
        }

        function updateAnalysisDisplay() {
            // Update progress bars
            const factors = ['health', 'time', 'preference'];
            factors.forEach(factor => {
                const bar = document.getElementById(factor + 'Bar');
                const percent = document.getElementById(factor + 'Percent');
                if (bar && percent) {
                    bar.style.width = factorWeights[factor] + '%';
                    percent.textContent = factorWeights[factor] + '%';
                }
            });

            // Update recommendations based on weights
            const rec1 = document.getElementById('recommendation1');
            const rec2 = document.getElementById('recommendation2');
            const rec3 = document.getElementById('recommendation3');

            if (rec1 && rec2 && rec3) {
                if (factorWeights.health > 70) {
                    rec1.textContent = '‚úÖ ∆Øu ti√™n m√≥n ƒÉn healthy v√† √≠t calories';
                } else {
                    rec1.textContent = 'üçΩÔ∏è T·∫≠p trung v√†o h∆∞∆°ng v·ªã v√† s·ª± h√†i l√≤ng';
                }

                if (factorWeights.time > 70) {
                    rec2.textContent = '‚è±Ô∏è Ch·ªçn m√≥n n·∫•u nhanh d∆∞·ªõi 30 ph√∫t';
                } else {
                    rec2.textContent = 'üë®‚Äçüç≥ C√≥ th·ªÉ ch·ªçn m√≥n ph·ª©c t·∫°p h∆°n';
                }

                if (selectedMood) {
                    const moodRecommendations = {
                        'happy': 'üòä M√≥n ƒÉn vui t∆∞∆°i, ƒë·∫ßy m√†u s·∫Øc',
                        'sad': 'ü§ó M√≥n ƒÉn ·∫•m √°p, d·ªÖ ti√™u h√≥a',
                        'stressed': 'üßò M√≥n ƒÉn nh·∫π nh√†ng, gi·∫£m stress',
                        'excited': 'üéâ M√≥n ƒÉn th√∫ v·ªã, ƒë·∫≠m ƒë√†',
                        'tired': 'üí§ M√≥n ƒÉn b·ªï d∆∞·ª°ng, d·ªÖ ƒÉn',
                        'romantic': 'üíï M√≥n ƒÉn tinh t·∫ø, l√£ng m·∫°n'
                    };
                    rec3.textContent = moodRecommendations[selectedMood] || 'üòã Ph√π h·ª£p s·ªü th√≠ch c√° nh√¢n';
                }
            }
        }

        function calculateFoodScore(food) {
            let score = 0;
            let totalWeight = 0;

            // Health factor
            if (factorWeights.health > 0) {
                score += (food.health / 100) * factorWeights.health;
                totalWeight += factorWeights.health;
            }

            // Time factor (higher time score means quicker to prepare)
            if (factorWeights.time > 0) {
                score += (food.time / 100) * factorWeights.time;
                totalWeight += factorWeights.time;
            }

            // Preference factor
            if (factorWeights.preference > 0) {
                score += (food.preference / 100) * factorWeights.preference;
                totalWeight += factorWeights.preference;
            }

            // Mood factor
            if (selectedMood && food.mood.includes(selectedMood)) {
                score += factorWeights.mood;
                totalWeight += factorWeights.mood;
            }

            return totalWeight > 0 ? (score / totalWeight) * 100 : 0;
        }

        function generateFoodCards() {
            const container = document.getElementById('recommendationCards');
            if (!container) return;

            // Calculate scores for all foods
            const scoredFoods = foodDatabase.map(food => ({
                ...food,
                score: calculateFoodScore(food)
            }));

            // Sort by score and take top 3
            const topFoods = scoredFoods.sort((a, b) => b.score - a.score).slice(0, 3);

            // Generate cards
            container.innerHTML = topFoods.map((food, index) => {
                const colors = [
                    'from-blue-500 to-purple-600',
                    'from-green-500 to-teal-600',
                    'from-orange-500 to-red-600'
                ];
                
                const textColors = [
                    'text-blue-600',
                    'text-green-600',
                    'text-orange-600'
                ];

                return `
                    <div class="bg-gradient-to-r ${colors[index]} text-white rounded-xl p-6 text-center card-hover">
                        <div class="text-4xl mb-3">${food.emoji}</div>
                        <h3 class="text-xl font-bold mb-2">${food.name}</h3>
                        <p class="text-sm opacity-90 mb-4">${food.description}</p>
                        <div class="text-2xl font-bold mb-2">${Math.round(food.score)}%</div>
                        <div class="text-sm opacity-80 mb-4">ƒê·ªô ph√π h·ª£p</div>
                        <div class="text-xs opacity-75 mb-4">
                            ${food.calories} calories ‚Ä¢ ${food.cookTime}
                        </div>
                        <button class="bg-white ${textColors[index]} px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-all" onclick="selectFood('${food.name}')">
                            ${index === 0 ? 'Ch·ªçn m√≥n n√†y' : index === 1 ? 'Xem c√¥ng th·ª©c' : 'Th√™m y√™u th√≠ch'}
                        </button>
                    </div>
                `;
            }).join('');
        }

        function selectFood(foodName) {
            showNotification('üçΩÔ∏è', 'ƒê√£ ch·ªçn m√≥n', `B·∫°n ƒë√£ ch·ªçn ${foodName}!`);
        }

        // Notification system
        function showNotification(icon, title, message) {
            const notification = document.getElementById('notification');
            const notificationIcon = document.getElementById('notificationIcon');
            const notificationTitle = document.getElementById('notificationTitle');
            const notificationMessage = document.getElementById('notificationMessage');
            
            if (notification && notificationIcon && notificationTitle && notificationMessage) {
                notificationIcon.textContent = icon;
                notificationTitle.textContent = title;
                notificationMessage.textContent = message;
                
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'971b61c6b5df0959',t:'MTc1NTYyNDY1OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
